<% include ../partials/header.ejs %>
<% include ../partials/navbar.ejs %>

<h1>Stationary Catalogue</h1>
<!-- Release 1 -->
<!-- <form class="" action="index.html" method="post">
		<input type="text" name="search" value="" placeholder="Search">
	</form> -->



<div class="container box-stationary">
	<div class="row">
		<% items.forEach(function(item) { %>
		<% if(item.quantity > 0) { %>
		<div class="col-xs-6 col-md-4 stationeries mb-4">
			<div class="pictureItem">
				<img id="itemPicture" src="<%=item.picture%>">
			</div>
			<div class="details">
				<h4 class name="name" id="name">
					<%=item.name%>
				</p>

				 <!-- Quamtity of type -->

				<!-- <p><strong>ID:</strong>
					<%=item.stationary_id%>
				</p> -->
				<button class="btn btn-primary" data-toggle="modal" data-target="#reservateModal<%=item.stationary_id%>">
					Reserve
				</button>

				<!-- Modal -->
				<div class="modal fade" id="reservateModal<%=item.stationary_id%>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
				 aria-hidden="true">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">

								<form action="/librarian/online-reservate" method="post">
									<input type="number" min="1" max="<%=item.quantity%>" name="quantity" required>
									<input type="hidden" name="items" value="<%=item.stationary_id%>">
									<input type="date" name="date" required min="<%=currentDay%>">
							</div>
							
							<div class="modal-footer">
								<input type="submit" class="btn btn-primary" value="Reserve">
								</form>
								<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
		<% } %>
		<%	}); %>

	</div>
</div>

<% include ../partials/footer %>